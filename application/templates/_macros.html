{% macro render_field(field) %}
    <div class="form-group">
        {{ field.label(class_="form-label") }}
        {% if not kwargs['class_'] %}
          {{ field(class_="form-control", **kwargs)|safe }}
        {% else %}
          {{ field(**kwargs)|safe }}
        {% endif %}
        {% if field.errors %}
            {% for error in field.errors %}
                <span class="error">{{error}}</span>
            {% endfor %}
        {% endif %}
    </div>
{% endmacro %}


{% macro render_hidden(form) %}
    {{ form.hidden_tag() }}
{% endmacro %}


{% macro linked_with(links) %}
  <p>Linked with:</p>
  <ul>
    {% for link in links %}
    <li>
        {%- if link.__class__.__name__ == 'Competency' -%}
          Competency: {{ link.name }}

        {%- elif link.entry_type == 'objective' -%}
          Objective: {{ link.entry.what }}

        {%- elif link.entry_type == 'feedback' -%}
          Feedback: {{ link.entry.details }}

        {%- elif link.entry_type == 'log' -%}
          Note: {{ link.entry.content }}

        {%- endif -%}

        <a href="#remove-link?link={{ link.id }}">remove</a>
      </li>
    {% endfor %}
  </ul>
{% endmacro %}
