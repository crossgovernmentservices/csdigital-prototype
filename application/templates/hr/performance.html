{% extends "hr/base.html" %}

{% block endhead %}
{{ super() }}
<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
<script type="text/javascript">
  google.charts.load('current', {'packages':['corechart']});
  google.charts.setOnLoadCallback(drawChart);

  function drawChart() {

          // Create the data table.
          var data = google.visualization.arrayToDataTable([
                  ['Capability', 'Open', 'Completed', 'Closed', { role: 'annotation' } ],
                  ['Leading and managing change', 10060, 2340, 300, ''],
                  ['Digital', 70890, 50500, 2000, ''],
                  ['Commercial', 35000, 22000, 1400, ''],
                  ['Project delivery', 40000, 82000, 5000, '']
                ]);

          var data_objs = google.visualization.arrayToDataTable([
                    ['No of objectives', 'People'],
                    ['None set',     25000],
                    ['1',     20000],
                    ['2-3',  100000],
                    ['4-5', 230000],
                    ['6+',    35000]
                  ]);


          // Set chart options
          var options = {
                  width: 700,
                  height: 400,
                  legend: { position: 'top', maxLines: 3 },
                  bar: { groupWidth: '100%' },
                  isStacked: true,
                  series: {
                    0: {color: '#005EA5'},
                    1: {color: '#00823B'},
                    2: {color: '#4C2C92'}
                  }
                };
          
          var options_objs = {
                    title: 'No. of objectives',
                    pieHole: 0.4,
                  };

          // Instantiate and draw our chart, passing in some options.
          var chart = new google.visualization.BarChart(document.getElementById("chart_div"));
          chart.draw(data, options);
          var piechart = new google.visualization.PieChart(document.getElementById('obj_chart'));
          piechart.draw(data_objs, options_objs);
        }
</script>

{% endblock %}

{% block dashboard_title %}Performance{% endblock %}

{% block page_content %}

<h2 class="heading-medium">Avg no. of objectives</h2>
<div id="obj_chart" style="width: 700px; height: 400px;"></div>
<a href="" class="small-link">see breakdown by department</a>

<h2 class="heading-medium">Development objectives by capability</h2>
<div id="chart_div"></div>
<a href="" class="small-link">see breakdown by department</a>

{% endblock %}
